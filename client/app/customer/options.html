<link rel="stylesheet" type="text/css" href="styles/options.css">
<nav class="navbar navbar-default navbar-static-top">
    <div class="container">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">BarHawk</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <button ng-click='logOut()'>Logout</li>
            </ul>
        </div>
    </div>
</nav>
<!-- RADIO BUTTONS FOR DRINK DISPLAY -->
<div class="row">
    <div class="sidebar col-xs-12 col-sm-4 col-sm-4-push-5" style="text-align:center">
        <!-- <h1>Hi, {{currentUser.firstname}}!</h1> -->
        <div id='bar-chart'>
            <h2 id='bacTitle'>{{currentUser.firstname}}'s Blood Alcohol Content</h2>
            <h2><strong>{{currentUser.BAC}}%</strong></h2>
            <!-- <h2>Hi, {{currentUser.firstname}}!</h2> -->
            <h4 ng-show='!canDrive'>Above the legal driving limit, please do not drive *</h4>
            <h4 ng-show='canDrive'>Currently below the legal driving limit*</h4>
            <!--
    <h4 ng-show= '!canDrive'>{{currentUser.firstname}}, you are currently above the legal driving limit, please do not drive *</h4>
    <h4 ng-show= 'canDrive'>{{currentUser.firstname}}, you are currently below the legal driving limit of 0.08 *</h4> -->
            <!-- <h4>Drink Count: {{currentUser.drinkCount}}</h4> -->
            <h4>{{currentUser.drinkCount}} drink(s) consumed since {{timeOfFirstDrink}} today</h4>
            <h4> Estimated BAC: {{currentUser.BAC}}</h4>
            <button class='btn btn-primary' ng-click='showme=true'>What's BAC?</button>
            <button class='btn btn-primary' ui-sref='statistics'>My Stats</button>
        </div>
        <div id='bacdiv' ng-show='showme'>
            BAC Chart Values
            <br>
            <br>
            <p align="left">0.00 – 0.03% Normal behavior, no impairment</p>
            <p align="left">0.03 – 0.06% Mild euphoria and impairment; decreased inhibitions</p>
            <p align="left">0.06 – 0.10% Buzzed, euphoric, increased impairment</p>
            <p align="left">0.10 – 0.20% Drunk, emotional swings, slurred speech, nausea</p>
            <p align="left">0.20 – 0.30% Confused, nauseated, poor mentation, blackout</p>
            <p align="left">0.30 – 0.40% Possibly unconscious, unarrousable, loss of bladder function</p>
            <p align="left">Above 0.40% Unconscious, coma, impaired breathing, risk of death</p>
            <div ng-click='showme=false' id='hideBAC'> Hide BAC Info</div>
        </div>
        <button class="btn btn-primary" ng-click='closeTabOnly()' ng-disabled="orderCloseSuccess || tabSuccess">Close Bar Tab</button>
        <br>
        <br>
        <p ng-show='tabFail'>You've already closed your tab or have yet to order a drink!</p>
        <div ng-show='tabSuccess'>
            <p>You've successfully closed your tab.</p>
            <p>Total: ${{userTab.totalprice}}</p>
        </div>
        <div class='orderButtons'>
            <p class="order">
                <img src="http://res.cloudinary.com/hidgkk5lm/image/upload/v1458753248/shopping-cart_f6j0n2.png">
                <br>
                <div class="selection"> {{ order.drinkType }} </div>
                <img class="sideDrink" ng-src="{{order.imageurl}}" />
            </p>
            <button class="btn btn-primary" ng-click='orderOnly()'>Submit Order</button>
            <br>
            <br>
            <div id='results'>
                <p ng-show='orderSuccess'>Order placed.</p>
                <p ng-show='orderFail'>Sorry! There was an error. </p>
            </div>
            <button class="btn btn-primary" ng-click='orderAndCloseTab()'>Submit and Close Tab</button>
            <div ng-show='orderCloseSuccess'>
                <p>You've successfully placed an order for {{savedDrinkType}} and closed your tab.</p>
                <p>Tab Total: ${{userTab.totalprice}}</p>
                <p>You're above the legal driving limit, please call a cab.
                    <br>Yellow Cab: 415-333-3333</p>
                <br>
            </div>
        </div>
    </div>
    <div class="col-xs-12 col-sm-8 col-sm-8-pull-5">
        <div class="selectionOptions">
            <ul>
                <li>
                    <input type="radio" id="b-option" ng-model="type" name="selector" value="beer">
                    <label for="b-option">Beer</label>
                </li>
                <li>
                    <input type="radio" id="w-option" ng-model="type" name="selector" value="wine">
                    <label for="w-option">Wine</label>
                </li>
                <li>
                    <input type="radio" id="m-option" ng-model="type" name="selector" value="mixed">
                    <label for="m-option">Mixed Drinks</label>
                </li>
                <li>
                    <input type="radio" id="l-option" ng-model="type" name="selector" value="liquor">
                    <label for="l-option">Liquor</label>
                </li>
            </ul>
        </div>
        <!-- DRINK IMAGE DISPLAY -->
        <div class="drinkDisplay">
        <label class="selectionOptions">Order by...</label>
        <select class="selectionOptions" ng-model="selectedOrder" ng-options="option for option in options">
        <option value="" disabled selected>Options</option>
        </select>
            <ul>
                <li ng-repeat="drink in drinks.list | filter:type: type | orderBy: selectedOrder">
                    <div class="drinkCell" ng-click="selectDrink(drink.name)" ng-class="{selectedDrink: drink.name === selectedDrink}">
                        <img ng-src="{{drink.imageurl}}" alt="alt" ng-model="order.drinkType" ng-click="order.drinkType = drink.name; order.imageurl = drink.imageurl;" value='drink.name' />
                        <br>
                        <p class="drinkName"> {{ drink.name }} </p>
                        <p class="drinkPrice"> ${{ drink.price }} </p>
                        <br>
                        <br>
                    </div>
                </li>
            </ul>
        </div>
        <br>
        <br>
    </div>
    <br>
</div>
